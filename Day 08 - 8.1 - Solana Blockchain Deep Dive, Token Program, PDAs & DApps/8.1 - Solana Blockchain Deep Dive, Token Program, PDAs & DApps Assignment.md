# 8.1 - Solana Blockchain Deep Dive, Token Program, PDAs & DApps — Assignment

> **Notes (8.1)**: https://feather-lion-ff2.notion.site/Week-8-1-9a827a2082e247bf8651e4e41284752f
> **Notes (8.0.1 offline)**: https://feather-lion-ff2.notion.site/Week-8-0-1-offline-107246afc9f28026a17bc87acf4f6e98

---

## Core Assignment

### Task 1 — Build the Complete DApp

Build a full React DApp using Solana Wallet Adapter with all 4 components wired up:

1. **RequestAirdrop** — input amount + click to airdrop devnet SOL to connected wallet
2. **ShowSolBalance** — auto-fetches and displays connected wallet's SOL balance
3. **SendTokens** — input recipient address + amount → send SOL via `wallet.sendTransaction`
4. **SignMessage** — input message → sign → verify with ed25519

```bash
npm create vite@latest my-solana-dapp -- --template react
cd my-solana-dapp
npm install @solana/wallet-adapter-base @solana/wallet-adapter-react \
            @solana/wallet-adapter-react-ui @solana/wallet-adapter-wallets \
            @solana/web3.js @noble/curves bs58
```

All 4 components must work correctly when wallet is connected. App should gracefully handle "wallet not connected" state.

---

### Task 2 — Derive and Display ATA Info

Build a component that:
1. Takes any wallet address + token mint address as input
2. Derives the ATA (PDA) for that wallet + mint
3. Checks if the ATA exists on-chain
4. If yes — displays token balance, owner, data size (165 bytes)
5. If no — shows "ATA not yet created"

This will reinforce the ATA = PDA concept from the lecture.

---

### Task 3 — Conceptual Questions

Answer in your own words:

1. In the Indian currency analogy: what is the ATA, what is the Mint Account, and what is the Token Program?
2. Why is the Mint Account **not** a PDA, but the ATA **is** a PDA?
3. In the Uber analogy: what is the "problem without PDAs" and how do PDAs solve it?
4. What is the difference between Web2 data storage (SQL/NoSQL) and Web3 data storage (Solana accounts)?
5. Why does the DApp only get your **public key** when you click "Connect Wallet" — why not the private key?
6. What is the difference between `wallet.sendTransaction()` and `wallet.signMessage()`?

---

## Bonus Challenges

### Challenge 1 — Token Balance Dashboard

Build a React component that:
1. Connects wallet via Wallet Adapter
2. Fetches ALL token balances using `connection.getParsedTokenAccountsByOwner`
3. Shows each token: mint address, balance, decimals
4. Auto-refreshes when wallet changes

### Challenge 2 — Ride Tracking with PDAs

Simulate the Uber PDA example:
- Derive a PDA using seeds: `[userWalletAddress, rideId_string]` + a custom programId
- Show that the same user + ride ID always gives the same PDA
- Show that different ride IDs give different PDAs
- Demonstrate that without PDAs, you'd need random keypairs (hard to track)

### Challenge 3 — DApp with Token Transfer

Extend the base DApp to also support **SPL token transfers** (not just SOL):
- Add inputs: token mint address, recipient, amount
- Use `getOrCreateAssociatedTokenAccount` + `createTransferInstruction`
- Send via `wallet.sendTransaction`

---

## References

- Wallet Adapter: https://github.com/anza-xyz/wallet-adapter
- Solana Web3.js: https://solana-labs.github.io/solana-web3.js/
- Token Program: https://spl.solana.com/token
- PDA Docs: https://solana.com/docs/core/pda
- ed25519 for message verification: https://www.npmjs.com/package/@noble/curves
